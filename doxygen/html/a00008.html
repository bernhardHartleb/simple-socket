<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>simple-socket library: NET::SocketHandle&lt; Socket &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="a00039.html">NET</a>::<a class="el" href="a00008.html">SocketHandle</a>
  </div>
</div>
<div class="contents">
<h1>NET::SocketHandle&lt; Socket &gt; Class Template Reference</h1><!-- doxytag: class="NET::SocketHandle" -->A simple class to provide strict ownership of socket handles.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00014_source.html">Handle.h</a>&gt;</code>
<p>

<p>
<a href="a00086.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef Socket&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#4a02af70ce82c2a6752347af0c869028">socket_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">socket type that was provided as template argument  <a href="#4a02af70ce82c2a6752347af0c869028"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#7854681c3e9901cbcfe9c325ca009453">operator bool</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns whether the socket handle is valid  <a href="#7854681c3e9901cbcfe9c325ca009453"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00008.html">SocketHandle</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#ef03ae542fd0ae2336c4231956a3ba0b">operator=</a> (<a class="el" href="a00008.html">SocketHandle</a> &amp;other)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#4aab598df9764db4e4dad6d09a86a634">SocketHandle</a> (<a class="el" href="a00008.html">SocketHandle</a> &amp;other)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">copy constructor using move semantics  <a href="#4aab598df9764db4e4dad6d09a86a634"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#79b477b6ef9b552cc1e037403ec7f4f9">SocketHandle</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructs an invalid socket handle  <a href="#79b477b6ef9b552cc1e037403ec7f4f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#95cde950506962fef1cc5e731230a85d">~SocketHandle</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#91de491f7eb2704550d11edb1c449793">SCTPSocket</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#e392721345f444f04761959f689c8ecb">TCPSocket</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class Socket&gt;<br>
 class NET::SocketHandle&lt; Socket &gt;</h3>

A simple class to provide strict ownership of socket handles. 
<p>
<a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> is used to return accepted connections to the user, and not expose the socket file descriptor. It also ensures all an accepted socket is closed in the case no new socket is created with this handle.<p>
<a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> implements move semantics, so only one <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> can be active for the same connection at any given moment. If <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> is copied/passed to a function, etc. the source/passed in <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> is made invalid. The <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> also gets invalid if an socket is constructed from the handle.<p>
After a <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> gets returned from an accept() call, the <a class="el" href="a00008.html" title="A simple class to provide strict ownership of socket handles.">SocketHandle</a> has to be checked wheter it is valid or not.<p>
Usage example: <div class="fragment"><pre class="fragment"> <span class="comment">// socket is a TCPSocket listening for connections</span>
 <a class="code" href="a00009.html#6c8ff2b6fa5bbc47f51ebd0ec3158872" title="Handle for a new socket returned by accept.">TCPSocket::Handle</a> handle = socket.timedAccept(1000);
 <span class="keywordflow">if</span>(!handle) {
   std::cout &lt;&lt; <span class="stringliteral">"no one tried to connect in time"</span> &lt;&lt; std::endl;
   <span class="keywordflow">return</span>;
 }
 <a class="code" href="a00008.html#e392721345f444f04761959f689c8ecb">TCPSocket</a> acceptedSocket(handle);
 <span class="comment">// use the socket</span>
</pre></div> <dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="a00001.html#_a5">TCP_Server.cpp</a>.</dl>
<p>Definition at line <a class="el" href="a00014_source.html#l00043">43</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="4a02af70ce82c2a6752347af0c869028"></a><!-- doxytag: member="NET::SocketHandle::socket_type" ref="4a02af70ce82c2a6752347af0c869028" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Socket <a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::<a class="el" href="a00008.html#4a02af70ce82c2a6752347af0c869028">socket_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
socket type that was provided as template argument 
<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00050">50</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="79b477b6ef9b552cc1e037403ec7f4f9"></a><!-- doxytag: member="NET::SocketHandle::SocketHandle" ref="79b477b6ef9b552cc1e037403ec7f4f9" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::<a class="el" href="a00008.html">SocketHandle</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructs an invalid socket handle 
<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00053">53</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4aab598df9764db4e4dad6d09a86a634"></a><!-- doxytag: member="NET::SocketHandle::SocketHandle" ref="4aab598df9764db4e4dad6d09a86a634" args="(SocketHandle &amp;other)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::<a class="el" href="a00008.html">SocketHandle</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00008.html">SocketHandle</a>&lt; Socket &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>other</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
copy constructor using move semantics 
<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00056">56</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="95cde950506962fef1cc5e731230a85d"></a><!-- doxytag: member="NET::SocketHandle::~SocketHandle" ref="95cde950506962fef1cc5e731230a85d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::~<a class="el" href="a00008.html">SocketHandle</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00075">75</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ef03ae542fd0ae2336c4231956a3ba0b"></a><!-- doxytag: member="NET::SocketHandle::operator=" ref="ef03ae542fd0ae2336c4231956a3ba0b" args="(SocketHandle &amp;other)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00008.html">SocketHandle</a>&amp; <a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::operator=           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00008.html">SocketHandle</a>&lt; Socket &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>other</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
assignment operator using move semantics 
<p>Definition at line <a class="el" href="a00014_source.html#l00069">69</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7854681c3e9901cbcfe9c325ca009453"></a><!-- doxytag: member="NET::SocketHandle::operator bool" ref="7854681c3e9901cbcfe9c325ca009453" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00008.html">NET::SocketHandle</a>&lt; Socket &gt;::operator bool           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns whether the socket handle is valid 
<p>
Checks whether a socket can be constructed from the handle or not. If accept() returned an invalid handle (e.g. timed out timedAccept() call) this should be used to verify the handle. Trying to construct a socket from an invalid handle will raise a <a class="el" href="a00007.html" title="Signals a problem with the execution of a socket call.">SocketException</a>. 
<p>Definition at line <a class="el" href="a00014_source.html#l00084">84</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="e392721345f444f04761959f689c8ecb"></a><!-- doxytag: member="NET::SocketHandle::TCPSocket" ref="e392721345f444f04761959f689c8ecb" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00009.html">TCPSocket</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00046">46</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="91de491f7eb2704550d11edb1c449793"></a><!-- doxytag: member="NET::SocketHandle::SCTPSocket" ref="91de491f7eb2704550d11edb1c449793" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Socket &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00005.html">SCTPSocket</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00014_source.html#l00047">47</a> of file <a class="el" href="a00014_source.html">Handle.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a00014_source.html">Handle.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Dec 12 12:32:59 2009 for simple-socket library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
